
Http bindings
-------------

__Definition__

    (define-http-binding
      "GET"
      "^customers/(\\d{1,6})$"
      new-customer-service
      http-parse-new-customer-request
      http-format-new-customer-response)

- Defines a http bindings between:
 - The GET http verb
 - The routes matching the ^customers/(\\d{1,6})$ regex pattern
 - The get-customer-service
 - A http parse procedure
 - A http format procedure

__Http parse procedure__  
The http parse procedure is not automatically generated.  
It receives a list of values captured from the route,  
and the http request body.  

    (define (http-parse-get-customer-request route-captures request-body)
      ...)

A procedure that parses the request body has already  
been generated by the define-request macro.

    json-parse-get-customer-request

Simply pass it to the json-parse-request procedure,  
along with the request body.

	(json-parse-request request-body json-parse-get-customer-request)

In our example, the request body would be empty.  
We would instead make the service request from the route captures.

    (make-get-customer-request
      (string->number (car route-captures)))

__Http format procedure__  
The http format procedure is not automatically generated.  

    (define (http-format-get-customer-response response)
      ...)

A procedure that formats the service response has already  
been generated by the define-response macro.

    json-format-get-customer-response

Simply pass it to the json-format-response procedure,  
along with the service response.

    (json-format-response response json-format-get-customer-response)

